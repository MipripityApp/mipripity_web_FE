/*! For license information please see bundle.4201c6a85b8c8d2bb56e.js.LICENSE.txt */
"use strict";(self.webpackChunkmipripity_web=self.webpackChunkmipripity_web||[]).push([[624],{624:(e,n,r)=>{r.r(n),r.d(n,{default:()=>De});var t,o,i,a,c,l,u,m,s,f,p,d,y,g,h,b,v,E,w,x,_,P,k,A,S,j,O,D,C,T,N=r(540),F=r(976),q=r(767),z=r(581),I=r(83),L=r(937),Y=r(25),U=r(821);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function R(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function M(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?B(Object(r),!0).forEach(function(n){Q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q(e,n,r){return(n=function(e){var n=function(e){if("object"!=G(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==G(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function V(){var e,n,r="function"==typeof Symbol?Symbol:{},t=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,t,o,i){var l=t&&t.prototype instanceof c?t:c,u=Object.create(l.prototype);return Z(u,"_invoke",function(r,t,o){var i,c,l,u=0,m=o||[],s=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,r){return i=n,c=0,l=e,f.n=r,a}};function p(r,t){for(c=r,l=t,n=0;!s&&u&&!o&&n<m.length;n++){var o,i=m[n],p=f.p,d=i[2];r>3?(o=d===t)&&(l=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=r<2&&p<i[1])?(c=0,f.v=t,f.n=i[1]):p<d&&(o=r<3||i[0]>t||t>d)&&(i[4]=r,i[5]=t,f.n=d,c=0))}if(o||r>1)return a;throw s=!0,t}return function(o,m,d){if(u>1)throw TypeError("Generator is already running");for(s&&1===m&&p(m,d),c=m,l=d;(n=c<2?e:l)||!s;){i||(c?c<3?(c>1&&(f.n=-1),p(c,l)):f.n=l:f.v=l);try{if(u=2,i){if(c||(o="next"),n=i[o]){if(!(n=n.call(i,l)))throw TypeError("iterator result is not an object");if(!n.done)return n;l=n.value,c<2&&(c=0)}else 1===c&&(n=i.return)&&n.call(i),c<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((n=(s=f.n<0)?l:r.call(t,f))!==a)break}catch(n){i=e,c=1,l=n}finally{u=1}}return{value:n,done:s}}}(r,o,i),!0),u}var a={};function c(){}function l(){}function u(){}n=Object.getPrototypeOf;var m=[][t]?n(n([][t]())):(Z(n={},t,function(){return this}),n),s=u.prototype=c.prototype=Object.create(m);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Z(e,o,"GeneratorFunction")),e.prototype=Object.create(s),e}return l.prototype=u,Z(s,"constructor",u),Z(u,"constructor",l),l.displayName="GeneratorFunction",Z(u,o,"GeneratorFunction"),Z(s),Z(s,o,"Generator"),Z(s,t,function(){return this}),Z(s,"toString",function(){return"[object Generator]"}),(V=function(){return{w:i,m:f}})()}function Z(e,n,r,t){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Z=function(e,n,r,t){function i(n,r){Z(e,n,function(e){return this._invoke(n,r,e)})}n?o?o(e,n,{value:r,enumerable:!t,configurable:!t,writable:!t}):e[n]=r:(i("next",0),i("throw",1),i("return",2))},Z(e,n,r,t)}function $(e,n,r,t,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void r(e)}c.done?n(l):Promise.resolve(l).then(t,o)}function H(e){return function(){var n=this,r=arguments;return new Promise(function(t,o){var i=e.apply(n,r);function a(e){$(i,t,o,a,c,"next",e)}function c(e){$(i,t,o,a,c,"throw",e)}a(void 0)})}}function J(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;l=!1}else for(;!(l=(t=i.call(r)).done)&&(c.push(t.value),c.length!==n);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,n)||K(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,n){if(e){if("string"==typeof e)return W(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,n):void 0}}function W(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t}function X(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var ee=(0,z.i7)(t||(t=X(["\n  from { opacity: 0; transform: translateY(20px); }\n  to { opacity: 1; transform: translateY(0); }\n"]))),ne=z.Ay.div(o||(o=X(["\n  max-width: 900px;\n  margin: 0 auto;\n  padding: 2rem;\n  animation: "," 0.5s ease-out;\n  \n  @media (max-width: 768px) {\n    padding: 1rem;\n  }\n"])),ee),re=(0,z.Ay)(F.N_)(i||(i=X(["\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 2rem;\n  color: ",";\n  text-decoration: none;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    color: ",";\n  }\n"])),function(e){return e.theme.textSecondary},function(e){return e.theme.secondary}),te=z.Ay.div(a||(a=X(["\n  margin-bottom: 2rem;\n"]))),oe=z.Ay.h1(c||(c=X(["\n  font-size: 2.5rem;\n  margin-bottom: 0.5rem;\n  color: ",";\n  \n  @media (max-width: 768px) {\n    font-size: 2rem;\n  }\n"])),function(e){return e.theme.text}),ie=z.Ay.p(l||(l=X(["\n  font-size: 1.1rem;\n  color: ",";\n"])),function(e){return e.theme.textSecondary}),ae=z.Ay.div(u||(u=X(["\n  background-color: ",";\n  border-radius: 10px;\n  padding: 2rem;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n  \n  @media (max-width: 768px) {\n    padding: 1.5rem;\n  }\n"])),function(e){return e.theme.surface}),ce=z.Ay.form(m||(m=X(["\n  display: grid;\n  gap: 1.5rem;\n"]))),le=z.Ay.div(s||(s=X(["\n  margin-bottom: 2rem;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),ue=z.Ay.h2(f||(f=X(["\n  font-size: 1.5rem;\n  margin-bottom: 1.5rem;\n  color: ",";\n  display: flex;\n  align-items: center;\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid ",";\n  \n  svg {\n    margin-right: 0.75rem;\n    color: ",";\n  }\n"])),function(e){return e.theme.text},function(e){return e.theme.border},function(e){return e.theme.secondary}),me=z.Ay.div(p||(p=X(["\n  display: grid;\n  grid-template-columns: ",";\n  gap: 1.5rem;\n  \n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n"])),function(e){return e.columns||"1fr 1fr"}),se=z.Ay.div(d||(d=X(["\n  margin-bottom: 1.5rem;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),fe=z.Ay.label(y||(y=X(["\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n  color: ",";\n"])),function(e){return e.theme.text}),pe=z.Ay.input(g||(g=X(["\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid ",";\n  border-radius: 5px;\n  background-color: ",";\n  color: ",";\n  transition: all 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: ",";\n    box-shadow: 0 0 0 2px ",";\n  }\n  \n  &::placeholder {\n    color: ",";\n    opacity: 0.7;\n  }\n"])),function(e){return e.hasError?e.theme.error:e.theme.border},function(e){return e.theme.isDark?"rgba(255, 255, 255, 0.05)":"white"},function(e){return e.theme.text},function(e){return e.hasError?e.theme.error:e.theme.secondary},function(e){return e.hasError?"rgba(211, 47, 47, 0.2)":"rgba(243, 147, 34, 0.2)"},function(e){return e.theme.textSecondary}),de=z.Ay.textarea(h||(h=X(["\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid ",";\n  border-radius: 5px;\n  background-color: ",";\n  color: ",";\n  transition: all 0.3s ease;\n  min-height: 150px;\n  resize: vertical;\n  \n  &:focus {\n    outline: none;\n    border-color: ",";\n    box-shadow: 0 0 0 2px ",";\n  }\n  \n  &::placeholder {\n    color: ",";\n    opacity: 0.7;\n  }\n"])),function(e){return e.hasError?e.theme.error:e.theme.border},function(e){return e.theme.isDark?"rgba(255, 255, 255, 0.05)":"white"},function(e){return e.theme.text},function(e){return e.hasError?e.theme.error:e.theme.secondary},function(e){return e.hasError?"rgba(211, 47, 47, 0.2)":"rgba(243, 147, 34, 0.2)"},function(e){return e.theme.textSecondary}),ye=z.Ay.select(b||(b=X(["\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid ",";\n  border-radius: 5px;\n  background-color: ",";\n  color: ",";\n  transition: all 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: ",";\n    box-shadow: 0 0 0 2px ",";\n  }\n"])),function(e){return e.hasError?e.theme.error:e.theme.border},function(e){return e.theme.isDark?"rgba(255, 255, 255, 0.05)":"white"},function(e){return e.theme.text},function(e){return e.hasError?e.theme.error:e.theme.secondary},function(e){return e.hasError?"rgba(211, 47, 47, 0.2)":"rgba(243, 147, 34, 0.2)"}),ge=z.Ay.div(v||(v=X(["\n  color: ",";\n  font-size: 0.85rem;\n  margin-top: 0.5rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"])),function(e){return e.theme.error}),he=z.Ay.div(E||(E=X([""]))),be=z.Ay.div(w||(w=X(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  gap: 1rem;\n  margin-top: 1rem;\n"]))),ve=z.Ay.div(x||(x=X(["\n  position: relative;\n  width: 100%;\n  aspect-ratio: 4/3;\n  border: 2px dashed ",";\n  border-radius: 8px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  background-color: ",";\n  overflow: hidden;\n  \n  &:hover {\n    border-color: ",";\n    background-color: ",";\n  }\n  \n  input {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    cursor: pointer;\n  }\n  \n  svg {\n    font-size: 2rem;\n    color: ",";\n    margin-bottom: 0.5rem;\n  }\n"])),function(e){return e.isDragging?e.theme.secondary:e.theme.border},function(e){return e.theme.isDark?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.02)"},function(e){return e.theme.secondary},function(e){return e.theme.isDark?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"},function(e){return e.theme.textSecondary}),Ee=z.Ay.span(_||(_=X(["\n  font-size: 0.9rem;\n  color: ",";\n  text-align: center;\n"])),function(e){return e.theme.textSecondary}),we=z.Ay.div(P||(P=X(["\n  position: relative;\n  width: 100%;\n  aspect-ratio: 4/3;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  \n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n"]))),xe=z.Ay.div(k||(k=X(["\n  position: absolute;\n  top: 0.5rem;\n  left: 0.5rem;\n  background-color: ",";\n  color: white;\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  font-weight: 500;\n"])),function(e){return e.theme.secondary}),_e=z.Ay.div(A||(A=X(["\n  position: absolute;\n  top: 0.5rem;\n  right: 0.5rem;\n  display: flex;\n  gap: 0.5rem;\n"]))),Pe=z.Ay.button(S||(S=X(["\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  border: none;\n  border-radius: 4px;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background-color: ",";\n  }\n"])),function(e){return e.isPrimary?e.theme.secondary:e.isDelete?"#d32f2f":"rgba(0, 0, 0, 0.7)"}),ke=z.Ay.div(j||(j=X(["\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  margin-top: 2rem;\n  \n  @media (max-width: 480px) {\n    flex-direction: column;\n  }\n"]))),Ae=z.Ay.button(O||(O=X(["\n  padding: 0.75rem 1.5rem;\n  border-radius: 5px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  \n  &:hover {\n    transform: translateY(-2px);\n  }\n  \n  &:active {\n    transform: translateY(0);\n  }\n  \n  @media (max-width: 480px) {\n    width: 100%;\n  }\n"]))),Se=(0,z.Ay)(Ae)(D||(D=X(["\n  background-color: transparent;\n  border: 1px solid ",";\n  color: ",";\n  \n  &:hover {\n    background-color: ",";\n  }\n"])),function(e){return e.theme.border},function(e){return e.theme.text},function(e){return e.theme.isDark?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"}),je=(0,z.Ay)(Ae)(C||(C=X(["\n  background-color: ",";\n  color: white;\n  border: none;\n  \n  &:hover {\n    background-color: ",";\n  }\n  \n  &:disabled {\n    opacity: 0.7;\n    cursor: not-allowed;\n    transform: none;\n  }\n"])),function(e){return e.theme.secondary},function(e){return e.theme.primary}),Oe=z.Ay.div(T||(T=X(["\n  width: 20px;\n  height: 20px;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  border-top: 2px solid white;\n  animation: spin 1s linear infinite;\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n"])));const De=function(){var e=(0,q.g)().id,n=(0,q.Zp)(),r=(0,Y.A)().userData,t=J((0,N.useState)({title:"",description:"",location:"",category_id:"",current_worth:"",year_of_construction:"",images:[]}),2),o=t[0],i=t[1],a=J((0,N.useState)({}),2),c=a[0],l=a[1],u=J((0,N.useState)(!1),2),m=u[0],s=u[1],f=J((0,N.useState)(!0),2),p=f[0],d=f[1],y=J((0,N.useState)(!0),2),g=y[0],h=y[1],b=J((0,N.useState)([]),2),v=b[0],E=b[1],w=J((0,N.useState)(!1),2),x=w[0],_=w[1],P=J((0,N.useState)([]),2),k=P[0],A=P[1],S=J((0,N.useState)([]),2),j=S[0],O=S[1],D=J((0,N.useState)([]),2),C=D[0],T=D[1];(0,N.useEffect)(function(){r||n("/login")},[r,n]),(0,N.useEffect)(function(){var t=function(){var t=H(V().m(function t(){var o,a,c,l;return V().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,d(!0),t.n=1,I.A.get("/api/properties/".concat(e));case 1:if(o=t.v,(a=o.data.property).user_id===(null==r?void 0:r.id)){t.n=2;break}return n("/properties"),t.a(2);case 2:i({title:a.title||"",description:a.description||"",location:a.location||"",category_id:a.category_id||"",current_worth:a.current_worth||"",year_of_construction:a.year_of_construction||""}),a.images&&a.images.length>0&&(c=a.images.map(function(e){return{id:e.id,url:e.image_url,isPrimary:e.is_primary}}),O(c)),t.n=4;break;case 3:t.p=3,l=t.v,console.error("Error fetching property:",l),n("/properties");case 4:return t.p=4,d(!1),t.f(4);case 5:return t.a(2)}},t,null,[[0,3,4,5]])}));return function(){return t.apply(this,arguments)}}();r&&t()},[e,r,n]),(0,N.useEffect)(function(){var e=function(){var e=H(V().m(function e(){var n,r;return V().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,h(!0),e.n=1,I.A.get("/api/properties/categories");case 1:n=e.v,E(n.data.categories),e.n=3;break;case 2:e.p=2,r=e.v,console.error("Error fetching categories:",r),E([{id:1,name:"Residential"},{id:2,name:"Commercial"},{id:3,name:"Land"},{id:4,name:"Material"}]);case 3:return e.p=3,h(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}();e()},[]);var F=function(e){var n=e.target,r=n.name,t=n.value;i("current_worth"===r||"year_of_construction"===r||"category_id"===r?function(e){return M(M({},e),{},Q({},r,""===t?"":parseFloat(t)))}:function(e){return M(M({},e),{},Q({},r,t))}),c[r]&&l(function(e){var n=M({},e);return delete n[r],n})},z=function(e){var n=Array.from(e).map(function(e){return{file:e,url:URL.createObjectURL(e),isPrimary:0===k.length&&0===j.length}});A(function(e){return[].concat(R(e),R(n))}),c.images&&l(function(e){var n=M({},e);return delete n.images,n})},G=function(){var e=H(V().m(function e(){var n,r,t,o;return V().w(function(e){for(;;)switch(e.p=e.n){case 0:if(0!==k.length){e.n=1;break}return e.a(2,[]);case 1:return n=function(){var e=H(V().m(function e(n){return V().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,new Promise(function(e){return setTimeout(e,500)});case 1:return e.a(2,{image_url:URL.createObjectURL(n),is_primary:n.isPrimary})}},e)}));return function(n){return e.apply(this,arguments)}}(),e.p=2,r=k.map(function(e){return n(M(M({},e.file),{},{isPrimary:e.isPrimary}))}),e.n=3,Promise.all(r);case 3:return t=e.v,e.a(2,t);case 4:throw e.p=4,o=e.v,console.error("Error uploading images:",o),new Error("Failed to upload images");case 5:return e.a(2)}},e,null,[[2,4]])}));return function(){return e.apply(this,arguments)}}(),B=function(){var e={};if(o.title||(e.title="Title is required"),o.location||(e.location="Location is required"),o.category_id||(e.category_id="Category is required"),o.current_worth&&isNaN(o.current_worth)&&(e.current_worth="Price must be a number"),o.year_of_construction){var n=parseInt(o.year_of_construction),r=(new Date).getFullYear();isNaN(n)?e.year_of_construction="Year must be a number":(n<1800||n>r)&&(e.year_of_construction="Year must be between 1800 and ".concat(r))}return l(e),0===Object.keys(e).length},Z=function(){var r=H(V().m(function r(t){var i,a,c,u,m;return V().w(function(r){for(;;)switch(r.p=r.n){case 0:if(t.preventDefault(),B()){r.n=1;break}return r.a(2);case 1:if(r.p=1,s(!0),i=[],!(k.length>0)){r.n=3;break}return r.n=2,G();case 2:i=r.v;case 3:return a=j.map(function(e){return{id:e.id,is_primary:e.isPrimary}}),c=M(M({},o),{},{new_images:i,existing_images:a,images_to_delete:C}),r.n=4,I.A.put("/api/properties/".concat(e),c);case 4:n("/properties/".concat(e)),r.n=6;break;case 5:r.p=5,m=r.v,console.error("Error updating property:",m),null!==(u=m.response)&&void 0!==u&&null!==(u=u.data)&&void 0!==u&&u.message?l({general:m.response.data.message}):l({general:"Error updating property. Please try again."});case 6:return r.p=6,s(!1),r.f(6);case 7:return r.a(2)}},r,null,[[1,5,6,7]])}));return function(e){return r.apply(this,arguments)}}();return p||g?N.createElement(ne,null,N.createElement(U.A,{size:"large",text:"Loading property data..."})):N.createElement(ne,null,N.createElement(re,{to:"/properties/".concat(e)},N.createElement(L.QVr,null)," Back to Property"),N.createElement(te,null,N.createElement(oe,null,"Edit Property"),N.createElement(ie,null,"Update your property listing information")),N.createElement(ae,null,N.createElement(ce,{onSubmit:Z},N.createElement(le,null,N.createElement(ue,null,N.createElement(L.ymh,null),"Property Information"),N.createElement(se,null,N.createElement(fe,{htmlFor:"title"},"Property Title*"),N.createElement(pe,{type:"text",id:"title",name:"title",value:o.title,onChange:F,placeholder:"Enter a descriptive title for your property",hasError:c.title}),c.title&&N.createElement(ge,null,N.createElement(L.TNq,null),c.title)),N.createElement(se,null,N.createElement(fe,{htmlFor:"description"},"Description"),N.createElement(de,{id:"description",name:"description",value:o.description,onChange:F,placeholder:"Provide a detailed description of your property",hasError:c.description}),c.description&&N.createElement(ge,null,N.createElement(L.TNq,null),c.description)),N.createElement(me,null,N.createElement(se,null,N.createElement(fe,{htmlFor:"location"},"Location*"),N.createElement(pe,{type:"text",id:"location",name:"location",value:o.location,onChange:F,placeholder:"City, State",hasError:c.location}),c.location&&N.createElement(ge,null,N.createElement(L.TNq,null),c.location)),N.createElement(se,null,N.createElement(fe,{htmlFor:"category_id"},"Category*"),N.createElement(ye,{id:"category_id",name:"category_id",value:o.category_id,onChange:F,hasError:c.category_id},N.createElement("option",{value:""},"Select a category"),v.map(function(e){return N.createElement("option",{key:e.id,value:e.id},e.name)})),c.category_id&&N.createElement(ge,null,N.createElement(L.TNq,null),c.category_id))),N.createElement(me,null,N.createElement(se,null,N.createElement(fe,{htmlFor:"current_worth"},"Price (USD)"),N.createElement(pe,{type:"number",id:"current_worth",name:"current_worth",value:o.current_worth,onChange:F,placeholder:"Property value in USD",min:"0",step:"0.01",hasError:c.current_worth}),c.current_worth&&N.createElement(ge,null,N.createElement(L.TNq,null),c.current_worth)),N.createElement(se,null,N.createElement(fe,{htmlFor:"year_of_construction"},"Year Built"),N.createElement(pe,{type:"number",id:"year_of_construction",name:"year_of_construction",value:o.year_of_construction,onChange:F,placeholder:"Year of construction",min:"1800",max:(new Date).getFullYear(),hasError:c.year_of_construction}),c.year_of_construction&&N.createElement(ge,null,N.createElement(L.TNq,null),c.year_of_construction)))),N.createElement(le,null,N.createElement(ue,null,N.createElement(L.dkL,null),"Property Images"),N.createElement(he,null,N.createElement(be,null,j.map(function(e,n){return N.createElement(we,{key:"existing-".concat(n)},N.createElement("img",{src:e.url,alt:"Property ".concat(n+1)}),e.isPrimary&&N.createElement(xe,null,"Primary"),N.createElement(_e,null,!e.isPrimary&&N.createElement(Pe,{type:"button",onClick:function(){return function(e){A(function(e){return e.map(function(e){return M(M({},e),{},{isPrimary:!1})})}),O(function(n){return n.map(function(n,r){return M(M({},n),{},{isPrimary:r===e})})})}(n)},title:"Set as primary"},N.createElement(L.gt3,null)),N.createElement(Pe,{type:"button",onClick:function(){return function(e){var n=j[e];n.id&&T(function(e){return[].concat(R(e),[n.id])}),O(function(r){var t=r.filter(function(n,r){return r!==e});return n.isPrimary&&t.length>0?t[0].isPrimary=!0:n.isPrimary&&0===t.length&&k.length>0&&A(function(e){var n=R(e);return n[0].isPrimary=!0,n}),t})}(n)},title:"Remove image",isDelete:!0},N.createElement(L.qbC,null))))}),k.map(function(e,n){return N.createElement(we,{key:"new-".concat(n)},N.createElement("img",{src:e.url,alt:"New property ".concat(n+1)}),e.isPrimary&&N.createElement(xe,null,"Primary"),N.createElement(_e,null,!e.isPrimary&&N.createElement(Pe,{type:"button",onClick:function(){return function(e){O(function(e){return e.map(function(e){return M(M({},e),{},{isPrimary:!1})})}),A(function(n){return n.map(function(n,r){return M(M({},n),{},{isPrimary:r===e})})})}(n)},title:"Set as primary"},N.createElement(L.gt3,null)),N.createElement(Pe,{type:"button",onClick:function(){return function(e){A(function(n){var r=n.filter(function(n,r){return r!==e});return n[e].isPrimary&&r.length>0&&(r[0].isPrimary=!0),r})}(n)},title:"Remove image",isDelete:!0},N.createElement(L.qbC,null))))}),N.createElement(ve,{isDragging:x,onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),_(!0)},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),_(!1)},onDragOver:function(e){e.preventDefault(),e.stopPropagation(),_(!0)},onDrop:function(e){e.preventDefault(),e.stopPropagation(),_(!1);var n=e.dataTransfer.files;n.length&&z(n)}},N.createElement("input",{type:"file",accept:"image/*",multiple:!0,onChange:function(e){e.preventDefault();var n=e.target.files;n.length&&z(n)}}),N.createElement(L.OiG,null),N.createElement(Ee,null,"Add Images"))),c.images&&N.createElement(ge,null,N.createElement(L.TNq,null),c.images))),c.general&&N.createElement(ge,null,N.createElement(L.TNq,null),c.general),N.createElement(ke,null,N.createElement(Se,{type:"button",onClick:function(){n("/properties/".concat(e))}},N.createElement(L.QCr,null),"Cancel"),N.createElement(je,{type:"submit",disabled:m},m?N.createElement(Oe,null):N.createElement(N.Fragment,null,N.createElement(L.dIn,null),"Update Property"))))))}}}]);