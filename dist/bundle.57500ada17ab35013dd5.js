/*! For license information please see bundle.57500ada17ab35013dd5.js.LICENSE.txt */
"use strict";(self.webpackChunkmipripity_web=self.webpackChunkmipripity_web||[]).push([[193],{193:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Ee});var r,o,a,l,i,u,c,m,s,f,p,d,b,y,h,g,E,v,x,_,w,O,j,A,S,k,P,z=t(540),T=t(767),C=t(581),N=t(937),D=t(25),F=t(821);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function q(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,r,o,a){var u=r&&r.prototype instanceof i?r:i,c=Object.create(u.prototype);return G(c,"_invoke",function(t,r,o){var a,i,u,c=0,m=o||[],s=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,t){return a=n,i=0,u=e,f.n=t,l}};function p(t,r){for(i=t,u=r,n=0;!s&&c&&!o&&n<m.length;n++){var o,a=m[n],p=f.p,d=a[2];t>3?(o=d===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=t<2&&p<a[1])?(i=0,f.v=r,f.n=a[1]):p<d&&(o=t<3||a[0]>r||r>d)&&(a[4]=t,a[5]=r,f.n=d,i=0))}if(o||t>1)return l;throw s=!0,r}return function(o,m,d){if(c>1)throw TypeError("Generator is already running");for(s&&1===m&&p(m,d),i=m,u=d;(n=i<2?e:u)||!s;){a||(i?i<3?(i>1&&(f.n=-1),p(i,u)):f.n=u:f.v=u);try{if(c=2,a){if(i||(o="next"),n=a[o]){if(!(n=n.call(a,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,i<2&&(i=0)}else 1===i&&(n=a.return)&&n.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((n=(s=f.n<0)?u:t.call(r,f))!==l)break}catch(n){a=e,i=1,u=n}finally{c=1}}return{value:n,done:s}}}(t,o,a),!0),c}var l={};function i(){}function u(){}function c(){}n=Object.getPrototypeOf;var m=[][r]?n(n([][r]())):(G(n={},r,function(){return this}),n),s=c.prototype=i.prototype=Object.create(m);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,G(e,o,"GeneratorFunction")),e.prototype=Object.create(s),e}return u.prototype=c,G(s,"constructor",c),G(c,"constructor",u),u.displayName="GeneratorFunction",G(c,o,"GeneratorFunction"),G(s),G(s,o,"Generator"),G(s,r,function(){return this}),G(s,"toString",function(){return"[object Generator]"}),(q=function(){return{w:a,m:f}})()}function G(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}G=function(e,n,t,r){function a(n,t){G(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(a("next",0),a("throw",1),a("return",2))},G(e,n,t,r)}function Y(e,n,t,r,o,a,l){try{var i=e[a](l),u=i.value}catch(e){return void t(e)}i.done?n(u):Promise.resolve(u).then(r,o)}function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function $(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?L(Object(t),!0).forEach(function(n){M(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function M(e,n,t){return(n=function(e){var n=function(e){if("object"!=I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=I(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==I(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function U(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,l,i=[],u=!0,c=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=a.call(t)).done)&&(i.push(r.value),i.length!==n);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(c)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return Q(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Q(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function V(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var Z=(0,C.i7)(r||(r=V(["\n  from { opacity: 0; transform: translateY(20px); }\n  to { opacity: 1; transform: translateY(0); }\n"]))),B=C.Ay.div(o||(o=V(["\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 2rem;\n  animation: "," 0.5s ease-out;\n"])),Z),H=C.Ay.div(a||(a=V(["\n  margin-bottom: 2rem;\n"]))),J=C.Ay.h1(l||(l=V(["\n  font-size: 2rem;\n  margin-bottom: 0.5rem;\n  color: ",";\n"])),function(e){return e.theme.text}),K=C.Ay.p(i||(i=V(["\n  color: ",";\n  font-size: 1.1rem;\n"])),function(e){return e.theme.textSecondary}),R=C.Ay.div(u||(u=V(["\n  background-color: ",";\n  border-radius: 10px;\n  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);\n  overflow: hidden;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);\n  }\n"])),function(e){return e.theme.surface}),W=C.Ay.div(c||(c=V(["\n  background: linear-gradient(135deg, ",", ",");\n  padding: 2rem;\n  color: white;\n  text-align: center;\n  position: relative;\n"])),function(e){return e.theme.primary},function(e){return e.theme.secondary}),X=C.Ay.div(m||(m=V(["\n  width: 100px;\n  height: 100px;\n  background-color: white;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto 1rem;\n  font-size: 2.5rem;\n  font-weight: bold;\n  color: ",";\n  border: 3px solid white;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);\n"])),function(e){return e.theme.primary}),ee=C.Ay.h2(s||(s=V(["\n  font-size: 1.8rem;\n  margin-bottom: 0.5rem;\n"]))),ne=C.Ay.p(f||(f=V(["\n  font-size: 1rem;\n  opacity: 0.9;\n"]))),te=C.Ay.button(p||(p=V(["\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  background-color: rgba(255, 255, 255, 0.2);\n  color: white;\n  border: none;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background-color: rgba(255, 255, 255, 0.3);\n    transform: translateY(-2px);\n  }\n"]))),re=C.Ay.div(d||(d=V(["\n  padding: 2rem;\n"]))),oe=C.Ay.div(b||(b=V(["\n  margin-bottom: 2rem;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),ae=C.Ay.h3(y||(y=V(["\n  font-size: 1.2rem;\n  margin-bottom: 1rem;\n  color: ",";\n  display: flex;\n  align-items: center;\n  \n  svg {\n    margin-right: 0.5rem;\n    color: ",";\n  }\n"])),function(e){return e.theme.text},function(e){return e.theme.secondary}),le=C.Ay.div(h||(h=V(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1.5rem;\n  \n  @media (max-width: 600px) {\n    grid-template-columns: 1fr;\n  }\n"]))),ie=C.Ay.div(g||(g=V(["\n  margin-bottom: 1rem;\n"]))),ue=C.Ay.div(E||(E=V(["\n  font-size: 0.9rem;\n  color: ",";\n  margin-bottom: 0.5rem;\n"])),function(e){return e.theme.textSecondary}),ce=C.Ay.div(v||(v=V(["\n  font-size: 1.1rem;\n  color: ",";\n"])),function(e){return e.theme.text}),me=C.Ay.form(x||(x=V(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1.5rem;\n  \n  @media (max-width: 600px) {\n    grid-template-columns: 1fr;\n  }\n"]))),se=C.Ay.div(_||(_=V(["\n  position: relative;\n"]))),fe=C.Ay.input(w||(w=V(["\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid ",";\n  border-radius: 5px;\n  background-color: ",";\n  color: ",";\n  transition: all 0.3s ease;\n  font-size: 1rem;\n  \n  &:focus {\n    outline: none;\n    border-color: ",";\n    box-shadow: 0 0 0 2px ",";\n  }\n  \n  &::placeholder {\n    color: ",";\n    opacity: 0.7;\n  }\n"])),function(e){return e.hasError?e.theme.error:e.theme.border},function(e){return e.theme.isDark?"rgba(255, 255, 255, 0.05)":"white"},function(e){return e.theme.text},function(e){return e.hasError?e.theme.error:e.theme.secondary},function(e){return e.hasError?"rgba(211, 47, 47, 0.2)":"rgba(243, 147, 34, 0.2)"},function(e){return e.theme.textSecondary}),pe=C.Ay.div(O||(O=V(["\n  color: ",";\n  font-size: 0.85rem;\n  margin-top: 0.5rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"])),function(e){return e.theme.error}),de=C.Ay.div(j||(j=V(["\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  margin-top: 1rem;\n  grid-column: 1 / -1;\n"]))),be=C.Ay.button(A||(A=V(["\n  padding: 0.75rem 1.5rem;\n  border-radius: 5px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  \n  &:hover {\n    transform: translateY(-2px);\n  }\n  \n  &:active {\n    transform: translateY(0);\n  }\n"]))),ye=(0,C.Ay)(be)(S||(S=V(["\n  background-color: ",";\n  color: white;\n  border: none;\n  \n  &:hover {\n    background-color: ",";\n  }\n"])),function(e){return e.theme.secondary},function(e){return e.theme.primary}),he=(0,C.Ay)(be)(k||(k=V(["\n  background-color: transparent;\n  border: 1px solid ",";\n  color: ",";\n  \n  &:hover {\n    background-color: ",";\n  }\n"])),function(e){return e.theme.border},function(e){return e.theme.text},function(e){return e.theme.isDark?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"}),ge=C.Ay.div(P||(P=V(["\n  width: 20px;\n  height: 20px;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  border-top: 2px solid white;\n  animation: spin 1s linear infinite;\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n"])));const Ee=function(){var e=(0,D.A)(),n=e.userData,t=e.loading,r=e.error,o=e.updateProfile,a=e.refreshUserData,l=U((0,z.useState)(!1),2),i=l[0],u=l[1],c=U((0,z.useState)({first_name:"",last_name:"",phone_number:""}),2),m=c[0],s=c[1],f=U((0,z.useState)({}),2),p=f[0],d=f[1],b=U((0,z.useState)(!1),2),y=b[0],h=b[1],g=(0,T.Zp)();(0,z.useEffect)(function(){n&&s({first_name:n.first_name||"",last_name:n.last_name||"",phone_number:n.phone_number||""})},[n]),(0,z.useEffect)(function(){a()},[a]);var E=function(e){var n=e.target,t=n.name,r=n.value;s(function(e){return $($({},e),{},M({},t,r))})},v=function(){var e={},n=m.first_name,t=m.last_name,r=m.phone_number;return n||(e.first_name="First name is required"),t||(e.last_name="Last name is required"),r&&!/^\+?[0-9]{10,15}$/.test(r.replace(/\s/g,""))&&(e.phone_number="Invalid phone number format"),d(e),0===Object.keys(e).length},x=function(){var e,n=(e=q().m(function e(n){var t;return q().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n.preventDefault(),v()){e.n=1;break}return e.a(2);case 1:return e.p=1,h(!0),e.n=2,o(m);case 2:u(!1),e.n=4;break;case 3:e.p=3,t=e.v,console.error("Error updating profile:",t),d({general:"Failed to update profile. Please try again."});case 4:return e.p=4,h(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}),function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function l(e){Y(a,r,o,l,i,"next",e)}function i(e){Y(a,r,o,l,i,"throw",e)}l(void 0)})});return function(e){return n.apply(this,arguments)}}();return t?z.createElement(B,null,z.createElement(F.A,{size:"large",text:"Loading profile..."})):r?z.createElement(B,null,z.createElement(pe,null,z.createElement(N.TNq,null),r)):n?z.createElement(B,null,z.createElement(H,null,z.createElement(J,null,"My Profile"),z.createElement(K,null,"View and manage your personal information")),z.createElement(R,null,z.createElement(W,null,z.createElement(X,null,n&&n.display_initials||""),z.createElement(ee,null,n.first_name," ",n.last_name),z.createElement(ne,null,n.email),!i&&z.createElement(te,{onClick:function(){u(!0)}},z.createElement(N.uO9,null))),z.createElement(re,null,i?z.createElement(oe,null,z.createElement(ae,null,z.createElement(N.uO9,null),"Edit Profile Information"),z.createElement(me,{onSubmit:x},z.createElement(se,null,z.createElement(ue,null,"First Name"),z.createElement(fe,{type:"text",name:"first_name",value:m.first_name,onChange:E,hasError:p.first_name}),p.first_name&&z.createElement(pe,null,z.createElement(N.TNq,null),p.first_name)),z.createElement(se,null,z.createElement(ue,null,"Last Name"),z.createElement(fe,{type:"text",name:"last_name",value:m.last_name,onChange:E,hasError:p.last_name}),p.last_name&&z.createElement(pe,null,z.createElement(N.TNq,null),p.last_name)),z.createElement(se,null,z.createElement(ue,null,"Phone Number (Optional)"),z.createElement(fe,{type:"tel",name:"phone_number",value:m.phone_number,onChange:E,hasError:p.phone_number}),p.phone_number&&z.createElement(pe,null,z.createElement(N.TNq,null),p.phone_number)),z.createElement(se,null,z.createElement(ue,null,"Email"),z.createElement(fe,{type:"email",value:n.email,disabled:!0}),z.createElement(ue,{style:{marginTop:"0.5rem",fontSize:"0.8rem"}},"Email cannot be changed")),p.general&&z.createElement(pe,{style:{gridColumn:"1 / -1"}},z.createElement(N.TNq,null),p.general),z.createElement(de,null,z.createElement(he,{type:"button",onClick:function(){n&&s({first_name:n.first_name||"",last_name:n.last_name||"",phone_number:n.phone_number||""}),d({}),u(!1)}},z.createElement(N.QCr,null),"Cancel"),z.createElement(ye,{type:"submit",disabled:y},y?z.createElement(ge,null):z.createElement(z.Fragment,null,z.createElement(N.dIn,null),"Save Changes"))))):z.createElement(z.Fragment,null,z.createElement(oe,null,z.createElement(ae,null,z.createElement(N.x$1,null),"Personal Information"),z.createElement(le,null,z.createElement(ie,null,z.createElement(ue,null,"First Name"),z.createElement(ce,null,n.first_name)),z.createElement(ie,null,z.createElement(ue,null,"Last Name"),z.createElement(ce,null,n.last_name)))),z.createElement(oe,null,z.createElement(ae,null,z.createElement(N.maD,null),"Contact Information"),z.createElement(le,null,z.createElement(ie,null,z.createElement(ue,null,"Email"),z.createElement(ce,null,n.email)),z.createElement(ie,null,z.createElement(ue,null,"Phone Number"),z.createElement(ce,null,n.phone_number||"Not provided")))))))):(g("/login"),null)}}}]);