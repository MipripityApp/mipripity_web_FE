/*! For license information please see bundle.629d28753806a06e68c3.js.LICENSE.txt */
"use strict";(self.webpackChunkmipripity_web=self.webpackChunkmipripity_web||[]).push([[120],{120:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ze});var r,o,a,i,c,l,u,m,s,p,d,f,g,y,h,b,v,x,w,E,_,A,S,k,j,O,C,P,D,z,T,F,N=t(540),G=t(976),M=t(767),L=t(581),Y=t(962),R=t(937),V=t(25),I=t(821);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function U(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?U(Object(t),!0).forEach(function(n){J(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function J(e,n,t){return(n=function(e){var n=function(e){if("object"!=B(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=B(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==B(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Q(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,r,o,a){var l=r&&r.prototype instanceof c?r:c,u=Object.create(l.prototype);return K(u,"_invoke",function(t,r,o){var a,c,l,u=0,m=o||[],s=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(n,t){return a=n,c=0,l=e,p.n=t,i}};function d(t,r){for(c=t,l=r,n=0;!s&&u&&!o&&n<m.length;n++){var o,a=m[n],d=p.p,f=a[2];t>3?(o=f===r)&&(l=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=t<2&&d<a[1])?(c=0,p.v=r,p.n=a[1]):d<f&&(o=t<3||a[0]>r||r>f)&&(a[4]=t,a[5]=r,p.n=f,c=0))}if(o||t>1)return i;throw s=!0,r}return function(o,m,f){if(u>1)throw TypeError("Generator is already running");for(s&&1===m&&d(m,f),c=m,l=f;(n=c<2?e:l)||!s;){a||(c?c<3?(c>1&&(p.n=-1),d(c,l)):p.n=l:p.v=l);try{if(u=2,a){if(c||(o="next"),n=a[o]){if(!(n=n.call(a,l)))throw TypeError("iterator result is not an object");if(!n.done)return n;l=n.value,c<2&&(c=0)}else 1===c&&(n=a.return)&&n.call(a),c<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((n=(s=p.n<0)?l:t.call(r,p))!==i)break}catch(n){a=e,c=1,l=n}finally{u=1}}return{value:n,done:s}}}(t,o,a),!0),u}var i={};function c(){}function l(){}function u(){}n=Object.getPrototypeOf;var m=[][r]?n(n([][r]())):(K(n={},r,function(){return this}),n),s=u.prototype=c.prototype=Object.create(m);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,K(e,o,"GeneratorFunction")),e.prototype=Object.create(s),e}return l.prototype=u,K(s,"constructor",u),K(u,"constructor",l),l.displayName="GeneratorFunction",K(u,o,"GeneratorFunction"),K(s),K(s,o,"Generator"),K(s,r,function(){return this}),K(s,"toString",function(){return"[object Generator]"}),(Q=function(){return{w:a,m:p}})()}function K(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}K=function(e,n,t,r){function a(n,t){K(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(a("next",0),a("throw",1),a("return",2))},K(e,n,t,r)}function X(e,n,t,r,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void t(e)}c.done?n(l):Promise.resolve(l).then(r,o)}function Z(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){X(a,r,o,i,c,"next",e)}function c(e){X(a,r,o,i,c,"throw",e)}i(void 0)})}}function $(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(c.push(r.value),c.length!==n);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,n)||function(e,n){if(e){if("string"==typeof e)return H(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?H(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function W(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var ee=(0,L.i7)(r||(r=W(["\n  from { opacity: 0; transform: translateY(20px); }\n  to { opacity: 1; transform: translateY(0); }\n"]))),ne=L.Ay.div(o||(o=W(["\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 2rem;\n  animation: "," 0.5s ease-out;\n  \n  @media (max-width: 768px) {\n    padding: 1rem;\n  }\n"])),ee),te=L.Ay.div(a||(a=W(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n  flex-wrap: wrap;\n  gap: 1rem;\n"]))),re=L.Ay.h1(i||(i=W(["\n  font-size: 2rem;\n  margin: 0;\n  color: ",";\n"])),function(e){return e.theme.text}),oe=L.Ay.div(c||(c=W(["\n  margin-bottom: 2rem;\n  background-color: ",";\n  border-radius: 10px;\n  padding: 1.5rem;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n"])),function(e){return e.theme.surface}),ae=L.Ay.div(l||(l=W(["\n  display: flex;\n  margin-bottom: 1.5rem;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n"]))),ie=L.Ay.input(u||(u=W(["\n  flex: 1;\n  padding: 0.75rem 1rem;\n  border: 1px solid ",";\n  border-radius: 5px 0 0 5px;\n  font-size: 1rem;\n  background-color: ",";\n  color: ",";\n  \n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n  \n  @media (max-width: 768px) {\n    border-radius: 5px 5px 0 0;\n  }\n"])),function(e){return e.theme.border},function(e){return e.theme.isDark?"rgba(255, 255, 255, 0.05)":"white"},function(e){return e.theme.text},function(e){return e.theme.secondary}),ce=L.Ay.button(m||(m=W(["\n  padding: 0.75rem 1.5rem;\n  background-color: ",";\n  color: white;\n  border: none;\n  border-radius: 0 5px 5px 0;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background-color: ",";\n  }\n  \n  @media (max-width: 768px) {\n    border-radius: 0 0 5px 5px;\n  }\n"])),function(e){return e.theme.primary},function(e){return e.theme.secondary}),le=L.Ay.div(s||(s=W(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 1rem;\n  \n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n  }\n"]))),ue=L.Ay.div(p||(p=W([""]))),me=L.Ay.label(d||(d=W(["\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n  color: ",";\n  font-size: 0.9rem;\n"])),function(e){return e.theme.text}),se=L.Ay.select(f||(f=W(["\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid ",";\n  border-radius: 5px;\n  background-color: ",";\n  color: ",";\n  \n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n"])),function(e){return e.theme.border},function(e){return e.theme.isDark?"rgba(255, 255, 255, 0.05)":"white"},function(e){return e.theme.text},function(e){return e.theme.secondary}),pe=L.Ay.div(g||(g=W(["\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 1.5rem;\n  gap: 1rem;\n"]))),de=L.Ay.button(y||(y=W(["\n  padding: 0.75rem 1.5rem;\n  background-color: transparent;\n  color: ",";\n  border: 1px solid ",";\n  border-radius: 5px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background-color: ",";\n  }\n"])),function(e){return e.theme.text},function(e){return e.theme.border},function(e){return e.theme.isDark?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"}),fe=L.Ay.div(h||(h=W(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 2rem;\n  \n  @media (max-width: 768px) {\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  }\n  \n  @media (max-width: 480px) {\n    grid-template-columns: 1fr;\n  }\n"]))),ge=L.Ay.div(b||(b=W(["\n  background-color: ",";\n  border-radius: 10px;\n  overflow: hidden;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-5px);\n    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);\n  }\n"])),function(e){return e.theme.surface}),ye=L.Ay.div(v||(v=W(["\n  height: 200px;\n  overflow: hidden;\n  position: relative;\n"]))),he=L.Ay.img(x||(x=W(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: transform 0.5s ease;\n  \n  ",":hover & {\n    transform: scale(1.05);\n  }\n"])),ge),be=L.Ay.span(w||(w=W(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  background-color: ",";\n  color: white;\n  padding: 0.3rem 0.8rem;\n  border-radius: 4px;\n  font-size: 0.8rem;\n  font-weight: 500;\n  z-index: 1;\n"])),function(e){return e.theme.primary}),ve=L.Ay.div(E||(E=W(["\n  padding: 1.5rem;\n"]))),xe=L.Ay.h3(_||(_=W(["\n  margin-bottom: 0.5rem;\n  font-size: 1.2rem;\n  color: ",";\n"])),function(e){return e.theme.text}),we=L.Ay.p(A||(A=W(["\n  display: flex;\n  align-items: center;\n  color: ",";\n  margin-bottom: 1rem;\n  font-size: 0.9rem;\n  \n  svg {\n    margin-right: 0.5rem;\n    color: ",";\n  }\n"])),function(e){return e.theme.textSecondary},function(e){return e.theme.secondary}),Ee=L.Ay.div(S||(S=W(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 1rem;\n  padding-top: 1rem;\n  border-top: 1px solid ",";\n"])),function(e){return e.theme.border}),_e=L.Ay.span(k||(k=W(["\n  font-weight: bold;\n  color: ",";\n"])),function(e){return e.theme.secondary}),Ae=(0,L.Ay)(G.N_)(j||(j=W(["\n  background-color: ",";\n  color: white;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  text-decoration: none;\n  font-size: 0.9rem;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background-color: ",";\n  }\n"])),function(e){return e.theme.primary},function(e){return e.theme.secondary}),Se=L.Ay.div(O||(O=W(["\n  display: flex;\n  align-items: center;\n  color: ",";\n  font-size: 0.9rem;\n  \n  svg {\n    margin-right: 0.5rem;\n    color: ",";\n  }\n"])),function(e){return e.theme.textSecondary},function(e){return e.theme.secondary}),ke=(0,L.Ay)(G.N_)(C||(C=W(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1.5rem;\n  background-color: ",";\n  color: white;\n  border-radius: 5px;\n  text-decoration: none;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background-color: ",";\n    transform: translateY(-2px);\n  }\n"])),function(e){return e.theme.secondary},function(e){return e.theme.primary}),je=L.Ay.div(P||(P=W(["\n  text-align: center;\n  padding: 3rem;\n  background-color: ",";\n  border-radius: 10px;\n  margin-top: 2rem;\n"])),function(e){return e.theme.surface}),Oe=L.Ay.h3(D||(D=W(["\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n  color: ",";\n"])),function(e){return e.theme.text}),Ce=L.Ay.p(z||(z=W(["\n  color: ",";\n  margin-bottom: 2rem;\n"])),function(e){return e.theme.textSecondary}),Pe=L.Ay.div(T||(T=W(["\n  display: flex;\n  justify-content: center;\n  margin-top: 3rem;\n  gap: 0.5rem;\n"]))),De=L.Ay.button(F||(F=W(["\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  border: 1px solid ",";\n  background-color: ",";\n  color: ",";\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background-color: ",";\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n    \n    &:hover {\n      background-color: ",";\n      transform: none;\n    }\n  }\n"])),function(e){return e.theme.border},function(e){return e.isActive?e.theme.secondary:e.theme.isDark?"rgba(255, 255, 255, 0.05)":"white"},function(e){return e.isActive?"white":e.theme.text},function(e){return e.isActive?e.theme.primary:e.theme.isDark?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"},function(e){return e.isActive?e.theme.secondary:e.theme.isDark?"rgba(255, 255, 255, 0.05)":"white"});const ze=function(){var e,n=(0,M.zy)(),t=(0,M.Zp)(),r=(0,V.A)().userData,o=new URLSearchParams(n.search),a=$((0,N.useState)([]),2),i=a[0],c=a[1],l=$((0,N.useState)(!0),2),u=l[0],m=l[1],s=$((0,N.useState)(null),2),p=s[0],d=s[1],f=$((0,N.useState)({total:0,page:1,pages:1,limit:9}),2),g=f[0],y=f[1],h=$((0,N.useState)({search:o.get("search")||"",category_id:o.get("category_id")||"",sort_by:o.get("sort_by")||"created_at",sort_order:o.get("sort_order")||"DESC",user_id:o.get("user_id")||""}),2),b=h[0],v=h[1],x=$((0,N.useState)([]),2),w=x[0],E=x[1];(0,N.useEffect)(function(){var e=function(){var e=Z(Q().m(function e(){var r,o,a;return Q().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,m(!0),(r=new URLSearchParams).append("page",g.page),r.append("limit",g.limit),b.search&&r.append("search",b.search),b.category_id&&r.append("category_id",b.category_id),b.sort_by&&r.append("sort_by",b.sort_by),b.sort_order&&r.append("sort_order",b.sort_order),b.user_id&&r.append("user_id",b.user_id),e.n=1,Y.Ay.get("/properties?".concat(r.toString()));case 1:o=e.v,c(o.data.properties),y({total:o.data.total,page:o.data.page,pages:o.data.pages,limit:o.data.limit}),t({pathname:n.pathname,search:"?".concat(r.toString())},{replace:!0}),e.n=3;break;case 2:e.p=2,a=e.v,console.error("Error fetching properties:",a),d("Failed to load properties. Please try again later."),c(k),y({total:k.length,page:1,pages:1,limit:9});case 3:return e.p=3,m(!1),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}();e()},[g.page,b,n.pathname,t]),(0,N.useEffect)(function(){var e=function(){var e=Z(Q().m(function e(){var n,t;return Q().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Y.Ay.get("/properties/categories");case 1:n=e.v,E(n.data.categories),e.n=3;break;case 2:e.p=2,t=e.v,console.error("Error fetching categories:",t),E(j);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();e()},[]);var _=function(e){var n=e.target,t=n.name,r=n.value;v(function(e){return q(q({},e),{},J({},t,r))}),y(function(e){return q(q({},e),{},{page:1})})},A=function(){v({search:"",category_id:"",sort_by:"created_at",sort_order:"DESC",user_id:""}),y(function(e){return q(q({},e),{},{page:1})})},S=function(e){y(function(n){return q(q({},n),{},{page:e})}),window.scrollTo({top:0,behavior:"smooth"})},k=[{id:1,title:"Modern Apartment in Downtown",location:"New York, NY",category_name:"Residential",current_worth:35e4,primary_image:"https://via.placeholder.com/300x200?text=Apartment",vote_count:24},{id:2,title:"Commercial Space in Business District",location:"San Francisco, CA",category_name:"Commercial",current_worth:12e5,primary_image:"https://via.placeholder.com/300x200?text=Commercial",vote_count:18},{id:3,title:"Beachfront Villa with Ocean View",location:"Miami, FL",category_name:"Residential",current_worth:75e4,primary_image:"https://via.placeholder.com/300x200?text=Villa",vote_count:32}],j=[{id:1,name:"Residential"},{id:2,name:"Commercial"},{id:3,name:"Land"},{id:4,name:"Material"}];return N.createElement(ne,null,N.createElement(te,null,N.createElement(re,null,b.user_id&&r&&b.user_id===r.id.toString()?"My Properties":b.category_id?"".concat((null===(e=w.find(function(e){return e.id.toString()===b.category_id}))||void 0===e?void 0:e.name)||"Category"," Properties"):"Properties"),r&&N.createElement(ke,{to:"/properties/add"},N.createElement(R.OiG,null),"Add Property")),N.createElement(oe,null,N.createElement("form",{onSubmit:function(e){e.preventDefault(),y(function(e){return q(q({},e),{},{page:1})})}},N.createElement(ae,null,N.createElement(ie,{type:"text",placeholder:"Search by title, location, or description",value:b.search,onChange:function(e){return v(function(n){return q(q({},n),{},{search:e.target.value})})}}),N.createElement(ce,{type:"submit"},N.createElement(R.KSO,null),"Search"))),N.createElement(le,null,N.createElement(ue,null,N.createElement(me,null,"Category"),N.createElement(se,{name:"category_id",value:b.category_id,onChange:_},N.createElement("option",{value:""},"All Categories"),w.map(function(e){return N.createElement("option",{key:e.id,value:e.id},e.name)}))),N.createElement(ue,null,N.createElement(me,null,"Sort By"),N.createElement(se,{name:"sort_by",value:b.sort_by,onChange:_},N.createElement("option",{value:"created_at"},"Date Added"),N.createElement("option",{value:"title"},"Title"),N.createElement("option",{value:"location"},"Location"),N.createElement("option",{value:"current_worth"},"Price"),N.createElement("option",{value:"vote_count"},"Vote Count"))),N.createElement(ue,null,N.createElement(me,null,"Sort Order"),N.createElement(se,{name:"sort_order",value:b.sort_order,onChange:_},N.createElement("option",{value:"DESC"},"Descending"),N.createElement("option",{value:"ASC"},"Ascending")))),N.createElement(pe,null,N.createElement(de,{onClick:A},N.createElement(R.QCr,null),"Clear Filters"))),u?N.createElement(I.A,{size:"large",text:"Loading properties..."}):p?N.createElement("div",null,p):0===i.length?N.createElement(je,null,N.createElement(Oe,null,"No properties found"),N.createElement(Ce,null,"Try adjusting your search or filter criteria to find properties."),N.createElement(de,{onClick:A},N.createElement(R.QCr,null),"Clear Filters")):N.createElement(N.Fragment,null,N.createElement(fe,null,i.map(function(e){return N.createElement(ge,{key:e.id},N.createElement(ye,null,N.createElement(he,{src:e.primary_image||"https://via.placeholder.com/300x200?text=Property",alt:e.title}),N.createElement(be,null,e.category_name)),N.createElement(ve,null,N.createElement(xe,null,e.title),N.createElement(we,null,N.createElement(R.vq8,null),e.location),N.createElement(Ee,null,N.createElement(_e,null,(n=e.current_worth)?new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(n):"Price on request"),N.createElement(Se,null,N.createElement(R.fJd,null),e.vote_count||0," votes"),N.createElement(Ae,{to:"/properties/".concat(e.id)},"View"))));var n})),g.pages>1&&N.createElement(Pe,null,N.createElement(De,{onClick:function(){return S(g.page-1)},disabled:1===g.page},N.createElement(R._Jj,null)),function(){var e=g.page,n=g.pages,t=[];t.push(1);for(var r=Math.max(2,e-1);r<=Math.min(n-1,e+1);r++)t.push(r);return n>1&&t.push(n),t.reduce(function(e,n,t,r){return e.push(n),t<r.length-1&&r[t+1]-n>1&&e.push("..."),e},[])}().map(function(e,n){return"..."===e?N.createElement("span",{key:"ellipsis-".concat(n),style:{margin:"0 0.5rem"}},"..."):N.createElement(De,{key:e,isActive:e===g.page,onClick:function(){return S(e)}},e)}),N.createElement(De,{onClick:function(){return S(g.page+1)},disabled:g.page===g.pages},N.createElement(R.X6T,null)))))}}}]);